(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{570:function(e,i,o){"use strict";o.r(i);var t=o(3),a=Object(t.a)({},(function(){var e=this,i=e.$createElement,o=e._self._c||i;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h2",{attrs:{id:"_1-dockerfile目录挂载"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_1-dockerfile目录挂载"}},[e._v("#")]),e._v(" 1. Dockerfile目录挂载")]),e._v(" "),o("p",[e._v("文件中增加参数")]),e._v(" "),o("p",[o("code",[e._v("VOLUME /root/xionghaizhi")])]),e._v(" "),o("p",[e._v("如果是多个目录")]),e._v(" "),o("p",[o("code",[e._v("VOLUME ['/root/xionghaizhi','/root/xionghaizhi2']")])]),e._v(" "),o("p",[o("strong",[e._v("采用docker-compose.yml 启动")])]),e._v(" "),o("div",{staticClass:"language- line-numbers-mode"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("volumes:\n  - /home/docker/xionghaizhi/fileData:/root/xionghaizhi\n")])]),e._v(" "),o("div",{staticClass:"line-numbers-wrapper"},[o("span",{staticClass:"line-number"},[e._v("1")]),o("br"),o("span",{staticClass:"line-number"},[e._v("2")]),o("br")])]),o("p",[o("code",[e._v("volumes 宿主机目录:docker容器内需要挂载的目录")])]),e._v(" "),o("p",[o("strong",[e._v("采用docker run启动")])]),e._v(" "),o("p",[o("code",[e._v('docker run --net="host" --restart="always" -P -v /home/docker/xionghaizhi/fileData:/root/ruoyi -d --name xionghaizhi xionghaiz-docker.pkg.coding.net/xionghaizhi/xionghaizhi/xionghaizhi:latest')])]),e._v(" "),o("p",[e._v("需要增加 -v 参数启动，否则dockerfile文件中的"),o("code",[e._v("VOLUME")]),e._v("不起作用")]),e._v(" "),o("div",{staticClass:"custom-block warning"},[o("p",{staticClass:"title"}),o("p",[e._v("设置的挂载目录不要使用工作目录"),o("code",[e._v("WORKDIR /xionghaizhi")]),e._v("，否则启动后宿主机的目录会覆盖掉当前目前，导致一些文件找不到，如.jar 文件")])])])}),[],!1,null,null,null);i.default=a.exports}}]);