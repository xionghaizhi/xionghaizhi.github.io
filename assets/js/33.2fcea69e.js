(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{553:function(t,s,a){"use strict";a.r(s);var n=a(3),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("Boxx"),t._v(" "),a("h3",{attrs:{id:"maven项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#maven项目"}},[t._v("#")]),t._v(" maven项目")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("variables:\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置maven 缓存路径")]),t._v("\n  MAVEN_OPTS: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-Dmaven.repo.local='),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PROJECT_DIR")]),t._v('/.m2/repository"')]),t._v("\n\ndefault:\n  image: maven:latest\n  before_script:\n    - mvn -v\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Cache downloaded dependencies and plugins between builds.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# To keep cache across branches add 'key: \"$CI_JOB_NAME\"'")]),t._v("\ncache:\n  paths:\n    - .m2/repository\n\nstages:\n  - maven\n  - success_msg\n  - error_msg\n\npublish:\n  stage: maven\n  tags:\n    - maven\n  script:\n    - "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://oapi.dingtalk.com/robot/send?access_token=1711fc517a460cd499a4a55a436053d71cd63b3731b42c97a45a08c5a4e9ca0b1'")]),t._v("   -H "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type:application/json'")]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{'),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("msgtype"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("markdown"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("markdown"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":{"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("title"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("创业拟真后端"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("text"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("### 后端service 开始构建"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">本次构建由："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$GITLAB_USER_NAME")]),t._v(" 触发"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">项目名称："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PROJECT_NAME")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">提交号："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_SHA")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">提交日志："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_MESSAGE")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">构建分支："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_BRANCH")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">流水线地址：["),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PIPELINE_URL")]),t._v("]("),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PIPELINE_URL")]),t._v(")"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('}}"')]),t._v("\n    - mvn "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n    - mvn package -Dmaven.test.skip"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("true\n    - "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" jeeplus-web/target\n    - "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" jeeplus-vue.war /home/entrepreneurial/webapps\n\nsuccess_msg:\n  stage: success_msg\n  tags:\n    - maven\n  script:\n    - "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://oapi.dingtalk.com/robot/send?access_token=1711fc517a460cd499a4a55a436053d71cd63b3731b42c97a45a08c5a4e9ca0b1'")]),t._v("   -H "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type:application/json'")]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{'),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("msgtype"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("markdown"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("markdown"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":{"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("title"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("创业拟真后端"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("text"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("### 后端service 构建成功"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">本次构建由："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$GITLAB_USER_NAME")]),t._v(" 触发"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">项目名称："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PROJECT_NAME")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">提交号："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_SHA")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">提交日志："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_MESSAGE")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">构建分支："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_BRANCH")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">流水线地址：["),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PIPELINE_URL")]),t._v("]("),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PIPELINE_URL")]),t._v(")"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('}}"')]),t._v("\n  when: on_success\n\nerror_msg:\n  stage: error_msg\n  tags:\n    - maven\n  script:\n    - "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://oapi.dingtalk.com/robot/send?access_token=1711fc517a460cd499a4a55a436053d71cd63b3731b42c97a45a08c5a4e9ca0b1'")]),t._v("   -H "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type:application/json'")]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{'),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("msgtype"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("markdown"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("markdown"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":{"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("title"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("创业拟真后端"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("text"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("### 后端service 构建失败"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">本次构建由："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$GITLAB_USER_NAME")]),t._v(" 触发"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">项目名称："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PROJECT_NAME")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">提交号："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_SHA")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">提交日志："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_MESSAGE")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">构建分支："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_BRANCH")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">流水线地址：["),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PIPELINE_URL")]),t._v("]("),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PIPELINE_URL")]),t._v(")"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('}}"')]),t._v("\n  when: on_failure\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br")])]),a("h3",{attrs:{id:"vue-node-项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-node-项目"}},[t._v("#")]),t._v(" vue node 项目")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("default:\n  image: node:latest\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# This folder is cached between builds")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# http://docs.gitlab.com/ee/ci/yaml/README.html#cache")]),t._v("\ncache:\n  paths:\n    - node_modules/\n\nstages:\n  - maven\n  - success_msg\n  - error_msg\n\npublish:\n  stage: maven\n  tags:\n    - maven\n  script:\n    - "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://oapi.dingtalk.com/robot/send?access_token=1711fc517a460cd499a4a55a436053d71cd63b3731b42c97a45a08c5a4e9ca0b1'")]),t._v("   -H "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type:application/json'")]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{'),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("msgtype"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("markdown"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("markdown"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":{"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("title"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("创业拟真后端web"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("text"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("### 后端web 开始构建"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">本次构建由："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$GITLAB_USER_NAME")]),t._v(" 触发"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">项目名称："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PROJECT_NAME")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">提交号："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_SHA")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">提交日志："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_MESSAGE")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">构建分支："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_BRANCH")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">流水线地址：["),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PIPELINE_URL")]),t._v("]("),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PIPELINE_URL")]),t._v(")"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('}}"')]),t._v("\n    - "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --unsafe-perm"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("true --allow-root --prefer-online --registry"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("https://registry.npm.taobao.org\n    - "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build\n    - "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" -r dist/. /home/entrepreneurial/webapps/ROOT\n\nsuccess_msg:\n  stage: success_msg\n  tags:\n    - maven\n  script:\n    - "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://oapi.dingtalk.com/robot/send?access_token=1711fc517a460cd499a4a55a436053d71cd63b3731b42c97a45a08c5a4e9ca0b1'")]),t._v("   -H "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type:application/json'")]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{'),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("msgtype"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("markdown"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("markdown"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":{"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("title"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("创业拟真后端web"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("text"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("### 后端web 构建成功"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">本次构建由："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$GITLAB_USER_NAME")]),t._v(" 触发"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">项目名称："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PROJECT_NAME")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">提交号："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_SHA")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">提交日志："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_MESSAGE")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">构建分支："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_BRANCH")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">流水线地址：["),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PIPELINE_URL")]),t._v("]("),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PIPELINE_URL")]),t._v(")"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('}}"')]),t._v("\n  when: on_success\n\nerror_msg:\n  stage: error_msg\n  tags:\n    - maven\n  script:\n    - "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://oapi.dingtalk.com/robot/send?access_token=1711fc517a460cd499a4a55a436053d71cd63b3731b42c97a45a08c5a4e9ca0b1'")]),t._v("   -H "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type:application/json'")]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{'),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("msgtype"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("markdown"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("markdown"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":{"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("title"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("创业拟真后端web"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("text"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("### 后端web 构建失败"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">本次构建由："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$GITLAB_USER_NAME")]),t._v(" 触发"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">项目名称："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PROJECT_NAME")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">提交号："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_SHA")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">提交日志："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_MESSAGE")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">构建分支："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_BRANCH")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">流水线地址：["),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PIPELINE_URL")]),t._v("]("),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PIPELINE_URL")]),t._v(")"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('}}"')]),t._v("\n  when: on_failure\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br")])]),a("h3",{attrs:{id:"消息通知命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#消息通知命令"}},[t._v("#")]),t._v(" 消息通知命令")]),t._v(" "),a("h4",{attrs:{id:"钉钉webhook"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#钉钉webhook"}},[t._v("#")]),t._v(" 钉钉webhook")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://oapi.dingtalk.com/robot/send?access_token=1711fc517a460cd499a4a55a436053d71cd63b3731b42c97a45a08c5a4e9ca0b1'")]),t._v("   -H "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type:application/json'")]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{'),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("msgtype"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("markdown"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("markdown"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":{"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("title"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("创业拟真后端"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("text"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("### 后端service 构建失败"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">本次构建由："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$GITLAB_USER_NAME")]),t._v(" 触发"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">项目名称："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PROJECT_NAME")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">提交号："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_SHA")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">提交日志："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_MESSAGE")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">构建分支："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_BRANCH")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">流水线地址：["),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PIPELINE_URL")]),t._v("]("),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PIPELINE_URL")]),t._v(")"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('}}"')]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h4",{attrs:{id:"企业微信webhook"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#企业微信webhook"}},[t._v("#")]),t._v(" 企业微信webhook")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=dd0b8199a-2f59-4ba9-90df-a67ade0e7b56'")]),t._v("   -H "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type:application/json'")]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{'),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("msgtype"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("markdown"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("markdown"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":{"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("content"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('构建结果：<font color="')]),t._v("info"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('">成功</font>'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">本次构建由："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$GITLAB_USER_NAME")]),t._v(" 触发"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">项目名称："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PROJECT_NAME")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">提交号："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_SHA")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">提交日志："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_MESSAGE")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">构建分支："),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_COMMIT_BRANCH")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v(">流水线地址：["),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PIPELINE_URL")]),t._v("]("),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CI_PIPELINE_URL")]),t._v(")"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('}}"')]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("a",{attrs:{href:"https://docs.gitlab.com/ee/ci/variables/predefined_variables.html#predefined-variables-reference",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitLabRunner预定变量参考地址"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://gitlab.com/gitlab-org/gitlab/-/tree/master/lib/gitlab/ci/templates",target:"_blank",rel:"noopener noreferrer"}},[t._v("构建文件配置模板地址"),a("OutboundLink")],1)])],1)}),[],!1,null,null,null);s.default=e.exports}}]);