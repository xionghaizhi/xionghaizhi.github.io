(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{582:function(s,a,n){"use strict";n.r(a);var t=n(3),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("Boxx"),s._v(" "),n("p",[s._v("docker 运行一段时间后，日志会很多，需要清理\n建一个 "),n("code",[s._v(".sh")]),s._v("文件，文件内容如下：")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"==================== start clean docker containers logs =========================="')]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("logs")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" /var/lib/docker/containers/ -name *-json.log"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("log")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$logs")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"clean logs : '),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$log")]),s._v('"')]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /dev/null "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$log")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n \n \n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"==================== end clean docker containers logs   =========================="')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[s._v("其中， "),n("code",[s._v("/var/lib/docker")]),s._v("是docker的跟目录，可以通过 "),n("code",[s._v("docker info")]),s._v(" 查看\n"),n("a",{attrs:{href:"https://imgtu.com/i/gB0SQ1",target:"_blank",rel:"noopener noreferrer"}},[n("img",{attrs:{src:"https://z3.ax1x.com/2021/05/13/gB0SQ1.png",alt:"gB0SQ1.png"}}),n("OutboundLink")],1)])],1)}),[],!1,null,null,null);a.default=e.exports}}]);